function toggleFavorite(e,t){$.get("/catalog/ajax/favorites.php",{id:e},function(e){"function"==typeof t&&t.call(this,1==e.success)},"json")}$(function(){$("body").on("click",".catalog-favorite-toggle",function(e){if($(this).hasClass("unauthorized"))return!0;e.preventDefault();var t=$(this),i=t.data("id");return toggleFavorite(i,function(e){if(e){var n=$(".catalog-favorite-toggle[data-id="+i+"]");if(!n.hasClass("active")){if(t.hasClass("favorite-accessories"))var a=t.closest(".single-accessories");else{var a=t.parents(".pProductInLine");0==a.length&&(a=t.closest(".cell")),0==a.length&&(a=t.closest("tr")),0==a.length&&(a=t.closest(".twelve").find(".pContent"))}var s=a.find(".j-image-to-animate"),o=t.offset().top+15,r=t.offset().left+5,l=$(".j-toolbar").offset().top+30,c=$(".j-toolbar .toolbar-tabs").offset().left,h=s.clone();h.appendTo("body").addClass("animated-img").css({left:r,top:o});var d=new TimelineMax;d.to(h,.5,{scale:1,alpha:1}).to(h,1,{top:l,left:c+100}).to(h,1,{scale:0,alpha:0,delay:-.5,onComplete:function(){h.remove()}})}n.toggleClass("active"),t.trigger("toggle")}}),$(".toolbar").trigger("reload",["favorites"]),!1})});
